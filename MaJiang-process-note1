枣庄麻将：
（每天成长一小步，未来铸成一大步）
平台-------------前端
数据->来->去->数据结果
extGameService.php——》SwooleWebSocketProxyService.php、extGameBusiness.php、SwooleSetting::$port、
class/config/ApiConfig.php -> PrcServiceName = MaJiangService
1.MaJiangService.php
      CreateRoom($request):创建房间
                           sender信息，role信息：   平台    存储redis
                           createData：???
                                   cardType：初始局数  === $jushu
                                    paoType: 炮初始值
                                     canChi：是否吃牌bool  初始值：true
                                     创建游戏redis
                           createGame:在当前room，jushu,              
                                      vo_MaJiangGame：初始化麻将游戏数据逻辑->$mjGame
                           updateMajiangGame: 平台   存储redis  创建好的游戏 $game
                           ExtGameHelper::senderMessage  向玩家（客户端）推送（游戏需要发送客户端的数据 getGameSendMsg）消息
                           ExtGameHelper::sendGameCreate  向平台发送 游戏创建成功
                           ExtGameHelper：platFormPath平台路径、（发送游戏操作：向玩家推送消息、游戏状态[创建成功、开始、结束、保存战绩]、消耗房卡）
      JoinRoom($request):加入房间
                           serder信息，role信息： 平台     存储redis
                           取出游戏数据redis
                           getMajiangGame:取出游戏redis
                           ExtGameHelper：senderMessage  向玩家（客户端）推送（游戏需要发送客户端的数据 getGameSendMsg）消息
      Ready($request):游戏准备工作（$game）
                      当前room，当前操作者senderUid，当前游戏$game
                      $game->isReady是否准备好,
                      准备好的话：$game->reday[当前操作者]=1，
                      isAllReady($room,$game):是否所有人准备好，$mjLists=NULL;初始化操作者手牌，
                      所有人准备好：
                            1.先整理本局最开始状态：
                            MajiangDao::delPlayerMajiangByRoom($this->room);      删除房间中玩家的麻将（上一局数据）
                            MajiangDao::clearOperating                            删除操作（包含操作，操作count）
                                  判断是否第一局：
                                        currentCount:当前局数
                                        totalFan：总分初始100
                                        第一局：room中的所有players,
                                              遍历所有player:判断totalFan是否NULL，每个成员初始分为100：$game->totalFan[$uuid]=100
                                      第一局准备工作完成：
                                          ExtGameHelper::sendGameStart($room->id);        向平台发送 游戏开始的消息
                                          ExtGameHelper::sendUseCard($room->id);  ?????   向平台发送 消耗房卡,一般在第一轮游戏完成之后就调用
                                  不是第一局：
                                        startGame($room,$game):开始游戏逻辑                返回值：MaJiangConstant::faMj($room,$game)  发麻将
                            开始游戏：
                            MjGameConstant::startGame($room,$game)                        返回值：array($game,$myLists)
                            遍历$myLists:
                                    MajiangDao::updatePlayerMajiang($uid2,$list)：        平台redis  更新玩家的麻将列表
                        接下来：            
                            MajiangDao::updateMajiangGame($game)      redis  更新游戏数据  
                        --------------------上面-------服务器端操作（第一局：平台发送游戏开始消息；除外）------------------------------------------
                        向房间中玩家推送消息：
                            RoomConstant::pushMsgToRoom($uid,array('tag'=>'ready','uid'=>$uid),$room,true);向房间中的玩家推送消息
                        ------------------------------发送准备消息--给平台----------------------------------------------------------------
                        判断准备好，发送游戏开始消息给平台：
                            遍历玩家列表：$uid,$mjList
                            每一个玩家网络sender---->PlatromDao::getSender($uid);
                            向客户端 玩家推送消息：
                            ExtGameHelper::senderMessage(array($senderInfo),$pushMsg);
      开始游戏：
      ChiPai($request):吃牌
                  mjVal：玩家出的牌
                  checkParams(mjVal)：检测参数---------------prc公共方法
                  $game:获取游戏
                        ->isStart：游戏没开始
                        ->currentUid:当前不是你出牌
                        ->chupai:当前不能出牌
                        ->currentState:补花阶段不能出牌
                  $mjList:获取玩家麻将             MajiangDao::getPlayerMajiang($uid)
                  判断是否出了一张没有的牌:?????    ArrayUtil::contains($mjList,$mjVal)
                  $myList:ArrayUtil::removeValue($mjList,$mjVal)
      
