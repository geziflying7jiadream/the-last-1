#每天进步一点点，未来进步一大步；
出牌、补花、操作，MaJiang-process-note1中，已经叙述过；
更新redis数据，缓存数据时，生命周期为：$expire=604800(7天)；

明杠：
      检查游戏中有杠牌的麻将，取出来取整，
      获取请求发送者，获取房间；
      获取麻将游戏；
      判断没有碰过牌，不能杠；
      取出碰牌信息；
      碰牌列表中没有这张牌，不能杠；
      获取请求发送者玩家的手牌麻将；
      手牌中没有该麻将，不能杠；
      
      手牌中清除该麻将，碰牌中清除该麻将；
      变更碰牌列表记录；
      杠牌麻将push进入杠牌记录（三元判断是否存在）；
      变更杠牌列表记录；
      变更游戏当前操作者currentUid；
      
      游戏中杠牌算分，更新游戏缓存数据；
      向游戏操作者以外的人发送变更当前操作者信息；
      
      //推送新麻将
      获取新麻将（杠的操作：3）；
      新麻将push进入删除杠牌的麻将手牌，并排序；
      推送信息数组：新麻将手牌，新麻将；
      向操作者发送新的推送信息；
      
      判断连杠条件，变更游戏中liangang;
      记录钢的类型；
      记录最后一次操作类型；
      记录最后一次操作人；
      记录最后一次杠的麻将；
      更新玩家麻将；
      更新麻将游戏；
      检测游戏是否结束；
      

抢杠胡：明杠回调方法
      检测opratingType存在：-7 7
      获取opratingType的值，
      获取发送者senderuid,
      获取房间号，
      获取麻将游戏，
      
      判断游戏开始，
      判断操作合法是不是7 -7，
      过胡存在，记录过胡数据，
      获取缓存中的抢杠操作，判断是否操作过；
      抢杠过的话，增加抢杠操作；
      增加抢杠操作数目在Redis缓存中；防止并发incr；
      判断抢杠操作次数==4的话：
            定义最后一次操作者为null，
            定义最后一次操作类型为-1，
            获取缓存中的抢杠操作类型的数组，
            循环遍历抢杠操作者与操作：检测优先的操作
            0继续，大于最后一次操作，记录最后一次操作与同一类型的操作者数组；
            否则，==push进入相同操作的数组中；
            
            判断相同操作数组总数==null的话：
            计算杠成功加分：
                  获取最后一个操作者，
                  获取最后一次杠的牌，
                  算杠分：gangSelf(),
                  更新麻将游戏数据，
                  获取房间中玩家，
                  循环遍历玩家，
                  推送minggangcallback消息；
                  
           清空缓存中，抢杠的操作类型记录； 
            
      更新麻将游戏，
      检测麻将游戏结束；
            
  暗杠：
      检查麻将参数存在，
      取出麻将参数，
      取出当前this下的发送者，
      获取this下的房间，
      获取房间游戏，
      获取发送者麻将手牌，
      $checkcount = 4;
      判断没有改手牌，数量不等于$checkcount的话不是暗杠，return；
      
      获得该麻将在手牌中首次出现的位置，
      通过数组删除$checkcount个该手牌，得到新手牌，
      获取游戏中玩家的暗杠列表，添加暗杠的麻将，
      变更游戏中暗杠列表，
      
      暗杠算分；
      变更暗杠后玩家手牌数目，
      变更游戏中当前操作者 currentUid;
      $getNewMj = ($checkcount == 4);//可以获得新麻将
      初始化新麻将$newMj = -1;
      如果判断可以获得新麻将，根据操作获得新麻将重新赋值；
      向房间中推送变更当前操作者的消息；
      
      如果可以获取西麻将，将新麻将push进麻将手牌，新麻将以及手牌信息推送给发送操作者玩家；
      
      变更游戏中杠的类型3；
      变更最后一个操作者，变更最后次操作类型，
      变更最后一次杠的麻将；
      
      更新缓存中操作者玩家手牌；
      更新麻将游戏；
      检测麻将游戏结束；
      
      
